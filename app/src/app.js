const Web3 = require('web3');
const web3 = new Web3('https://mainnet.infura.io/v3/c47beb19af5f47a8baf236f5914fd8e6');

AccountAddress = '0xFC0347422Bf84De4892eb3d44A8Ec14055fD1AC3';
ContractAddress = "0x8b5749f85D43782A5D29879801907191C504Aef3"
abi = [
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "approved",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "Approval",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "operator",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "bool",
				"name": "approved",
				"type": "bool"
			}
		],
		"name": "ApprovalForAll",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "Transfer",
		"type": "event"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "name",
				"type": "string"
			}
		],
		"name": "addSkin",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "approve",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "buySkin",
		"outputs": [],
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "price",
				"type": "uint256"
			}
		],
		"name": "putSkinForSale",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "safeTransferFrom",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			},
			{
				"internalType": "bytes",
				"name": "data",
				"type": "bytes"
			}
		],
		"name": "safeTransferFrom",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "operator",
				"type": "address"
			},
			{
				"internalType": "bool",
				"name": "approved",
				"type": "bool"
			}
		],
		"name": "setApprovalForAll",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "transferFrom",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "name",
				"type": "string"
			},
			{
				"internalType": "string",
				"name": "symbol",
				"type": "string"
			}
		],
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			}
		],
		"name": "balanceOf",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "getApproved",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "operator",
				"type": "address"
			}
		],
		"name": "isApprovedForAll",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "name",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "ownerOf",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"name": "skinIdToIndex",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"name": "skins",
		"outputs": [
			{
				"internalType": "string",
				"name": "name",
				"type": "string"
			},
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "price",
				"type": "uint256"
			},
			{
				"internalType": "bool",
				"name": "forSale",
				"type": "bool"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "SkinsLen",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "bytes4",
				"name": "interfaceId",
				"type": "bytes4"
			}
		],
		"name": "supportsInterface",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "symbol",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "tokenURI",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	}
]
Contract = new web3.eth.Contract(abi);
Contract.deploy({
	data: '60806040523480156200001157600080fd5b5060405162003801380380620038018339818101604052810190620000379190620001fa565b818181600090816200004a9190620004ca565b5080600190816200005c9190620004ca565b5050505050620005b1565b6000604051905090565b600080fd5b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b620000d08262000085565b810181811067ffffffffffffffff82111715620000f257620000f162000096565b5b80604052505050565b60006200010762000067565b9050620001158282620000c5565b919050565b600067ffffffffffffffff82111562000138576200013762000096565b5b620001438262000085565b9050602081019050919050565b60005b838110156200017057808201518184015260208101905062000153565b60008484015250505050565b6000620001936200018d846200011a565b620000fb565b905082815260208101848484011115620001b257620001b162000080565b5b620001bf84828562000150565b509392505050565b600082601f830112620001df57620001de6200007b565b5b8151620001f18482602086016200017c565b91505092915050565b6000806040838503121562000214576200021362000071565b5b600083015167ffffffffffffffff81111562000235576200023462000076565b5b6200024385828601620001c7565b925050602083015167ffffffffffffffff81111562000267576200026662000076565b5b6200027585828601620001c7565b9150509250929050565b600081519050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680620002d257607f821691505b602082108103620002e857620002e76200028a565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302620003527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8262000313565b6200035e868362000313565b95508019841693508086168417925050509392505050565b6000819050919050565b6000819050919050565b6000620003ab620003a56200039f8462000376565b62000380565b62000376565b9050919050565b6000819050919050565b620003c7836200038a565b620003df620003d682620003b2565b84845462000320565b825550505050565b600090565b620003f6620003e7565b62000403818484620003bc565b505050565b5b818110156200042b576200041f600082620003ec565b60018101905062000409565b5050565b601f8211156200047a576200044481620002ee565b6200044f8462000303565b810160208510156200045f578190505b620004776200046e8562000303565b83018262000408565b50505b505050565b600082821c905092915050565b60006200049f600019846008026200047f565b1980831691505092915050565b6000620004ba83836200048c565b9150826002028217905092915050565b620004d5826200027f565b67ffffffffffffffff811115620004f157620004f062000096565b5b620004fd8254620002b9565b6200050a8282856200042f565b600060209050601f8311600181146200054257600084156200052d578287015190505b620005398582620004ac565b865550620005a9565b601f1984166200055286620002ee565b60005b828110156200057c5784890151825560018201915060208501945060208101905062000555565b868310156200059c578489015162000598601f8916826200048c565b8355505b6001600288020188555050505b505050505050565b61324080620005c16000396000f3fe6080604052600436106101145760003560e01c80636352211e116100a0578063a22cb46511610064578063a22cb465146103cb578063b88d4fde146103f4578063c87b56dd1461041d578063e985e9c51461045a578063f8ed9f1c1461049757610114565b80636352211e146102cd57806370a082311461030a5780638f0986321461034757806395d89b41146103845780639d235de7146103af57610114565b806323b872dd116100e757806323b872dd146101e757806328ba823a146102105780632db2ede51461023b57806338816f291461027b57806342842e0e146102a457610114565b806301ffc9a71461011957806306fdde0314610156578063081812fc14610181578063095ea7b3146101be575b600080fd5b34801561012557600080fd5b50610140600480360381019061013b9190611f06565b6104c0565b60405161014d9190611f4e565b60405180910390f35b34801561016257600080fd5b5061016b6105a2565b6040516101789190611ff9565b60405180910390f35b34801561018d57600080fd5b506101a860048036038101906101a39190612051565b610634565b6040516101b591906120bf565b60405180910390f35b3480156101ca57600080fd5b506101e560048036038101906101e09190612106565b61067a565b005b3480156101f357600080fd5b5061020e60048036038101906102099190612146565b610791565b005b34801561021c57600080fd5b506102256107f1565b60405161023291906121a8565b60405180910390f35b34801561024757600080fd5b50610262600480360381019061025d9190612051565b6107fe565b60405161027294939291906121c3565b60405180910390f35b34801561028757600080fd5b506102a2600480360381019061029d919061220f565b6108f3565b005b3480156102b057600080fd5b506102cb60048036038101906102c69190612146565b610a17565b005b3480156102d957600080fd5b506102f460048036038101906102ef9190612051565b610a37565b60405161030191906120bf565b60405180910390f35b34801561031657600080fd5b50610331600480360381019061032c919061224f565b610abd565b60405161033e91906121a8565b60405180910390f35b34801561035357600080fd5b5061036e60048036038101906103699190612051565b610b74565b60405161037b91906121a8565b60405180910390f35b34801561039057600080fd5b50610399610b8c565b6040516103a69190611ff9565b60405180910390f35b6103c960048036038101906103c49190612051565b610c1e565b005b3480156103d757600080fd5b506103f260048036038101906103ed91906122a8565b610e22565b005b34801561040057600080fd5b5061041b6004803603810190610416919061241d565b610e38565b005b34801561042957600080fd5b50610444600480360381019061043f9190612051565b610e9a565b6040516104519190611ff9565b60405180910390f35b34801561046657600080fd5b50610481600480360381019061047c91906124a0565b610f02565b60405161048e9190611f4e565b60405180910390f35b3480156104a357600080fd5b506104be60048036038101906104b99190612581565b610f96565b005b60007f80ac58cd000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916148061058b57507f5b5e139f000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916145b8061059b575061059a826110cc565b5b9050919050565b6060600080546105b1906125f9565b80601f01602080910402602001604051908101604052809291908181526020018280546105dd906125f9565b801561062a5780601f106105ff5761010080835404028352916020019161062a565b820191906000526020600020905b81548152906001019060200180831161060d57829003601f168201915b5050505050905090565b600061063f82611136565b6004600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b600061068582610a37565b90508073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16036106f5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106ec9061269c565b60405180910390fd5b8073ffffffffffffffffffffffffffffffffffffffff16610714611181565b73ffffffffffffffffffffffffffffffffffffffff16148061074357506107428161073d611181565b610f02565b5b610782576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107799061272e565b60405180910390fd5b61078c8383611189565b505050565b6107a261079c611181565b82611242565b6107e1576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107d8906127c0565b60405180910390fd5b6107ec8383836112d7565b505050565b6000600680549050905090565b6006818154811061080e57600080fd5b9060005260206000209060040201600091509050806000018054610831906125f9565b80601f016020809104026020016040519081016040528092919081815260200182805461085d906125f9565b80156108aa5780601f1061087f576101008083540402835291602001916108aa565b820191906000526020600020905b81548152906001019060200180831161088d57829003601f168201915b5050505050908060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060020154908060030160009054906101000a900460ff16905084565b816108fd816115d0565b61093c576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109339061282c565b60405180910390fd5b61094583610a37565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146109b2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109a990612898565b60405180910390fd5b600060066007600086815260200190815260200160002054815481106109db576109da6128b8565b5b9060005260206000209060040201905082816002018190555060018160030160006101000a81548160ff02191690831515021790555050505050565b610a3283838360405180602001604052806000815250610e38565b505050565b600080610a4383611611565b9050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1603610ab4576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610aab90612933565b60405180910390fd5b80915050919050565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610b2d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b24906129c5565b60405180910390fd5b600360008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b60076020528060005260406000206000915090505481565b606060018054610b9b906125f9565b80601f0160208091040260200160405190810160405280929190818152602001828054610bc7906125f9565b8015610c145780601f10610be957610100808354040283529160200191610c14565b820191906000526020600020905b815481529060010190602001808311610bf757829003601f168201915b5050505050905090565b80610c28816115d0565b610c67576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c5e9061282c565b60405180910390fd5b60006006600760008581526020019081526020016000205481548110610c9057610c8f6128b8565b5b906000526020600020906004020190508060030160009054906101000a900460ff16610cf1576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ce890612a31565b60405180910390fd5b80600201543414610d37576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d2e90612a9d565b60405180910390fd5b60008160010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690508073ffffffffffffffffffffffffffffffffffffffff166108fc349081150290604051600060405180830381858888f19350505050158015610da6573d6000803e3d6000fd5b50610db2813386610a17565b338260010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060008260030160006101000a81548160ff0219169083151502179055506000826002018190555050505050565b610e34610e2d611181565b838361164e565b5050565b610e49610e43611181565b83611242565b610e88576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e7f906127c0565b60405180910390fd5b610e94848484846117ba565b50505050565b6060610ea582611136565b6000610eaf611816565b90506000815111610ecf5760405180602001604052806000815250610efa565b80610ed98461182d565b604051602001610eea929190612af9565b6040516020818303038152906040525b915050919050565b6000600560008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b60006006805490509050600060405180608001604052808481526020013373ffffffffffffffffffffffffffffffffffffffff16815260200160008152602001600015158152509050600681908060018154018082558091505060019003906000526020600020906004020160009091909190915060008201518160000190816110209190612cc9565b5060208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506040820151816002015560608201518160030160006101000a81548160ff021916908315150217905550505060016006805490506110a69190612dca565b60076000848152602001908152602001600020819055506110c733836118fb565b505050565b60007f01ffc9a7000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916149050919050565b61113f816115d0565b61117e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161117590612933565b60405180910390fd5b50565b600033905090565b816004600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff166111fc83610a37565b73ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a45050565b60008061124e83610a37565b90508073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff161480611290575061128f8185610f02565b5b806112ce57508373ffffffffffffffffffffffffffffffffffffffff166112b684610634565b73ffffffffffffffffffffffffffffffffffffffff16145b91505092915050565b8273ffffffffffffffffffffffffffffffffffffffff166112f782610a37565b73ffffffffffffffffffffffffffffffffffffffff161461134d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161134490612e70565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16036113bc576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016113b390612f02565b60405180910390fd5b6113c98383836001611919565b8273ffffffffffffffffffffffffffffffffffffffff166113e982610a37565b73ffffffffffffffffffffffffffffffffffffffff161461143f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161143690612e70565b60405180910390fd5b6004600082815260200190815260200160002060006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556001600360008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825403925050819055506001600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282540192505081905550816002600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a46115cb838383600161191f565b505050565b60008073ffffffffffffffffffffffffffffffffffffffff166115f283611611565b73ffffffffffffffffffffffffffffffffffffffff1614159050919050565b60006002600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16036116bc576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016116b390612f6e565b60405180910390fd5b80600560008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31836040516117ad9190611f4e565b60405180910390a3505050565b6117c58484846112d7565b6117d184848484611925565b611810576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161180790613000565b60405180910390fd5b50505050565b606060405180602001604052806000815250905090565b60606000600161183c84611aac565b01905060008167ffffffffffffffff81111561185b5761185a6122f2565b5b6040519080825280601f01601f19166020018201604052801561188d5781602001600182028036833780820191505090505b509050600082602001820190505b6001156118f0578080600190039150507f3031323334353637383961626364656600000000000000000000000000000000600a86061a8153600a85816118e4576118e3613020565b5b0494506000850361189b575b819350505050919050565b611915828260405180602001604052806000815250611bff565b5050565b50505050565b50505050565b60006119468473ffffffffffffffffffffffffffffffffffffffff16611c5a565b15611a9f578373ffffffffffffffffffffffffffffffffffffffff1663150b7a0261196f611181565b8786866040518563ffffffff1660e01b815260040161199194939291906130a4565b6020604051808303816000875af19250505080156119cd57506040513d601f19601f820116820180604052508101906119ca9190613105565b60015b611a4f573d80600081146119fd576040519150601f19603f3d011682016040523d82523d6000602084013e611a02565b606091505b506000815103611a47576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611a3e90613000565b60405180910390fd5b805181602001fd5b63150b7a0260e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614915050611aa4565b600190505b949350505050565b600080600090507a184f03e93ff9f4daa797ed6e38ed64bf6a1f0100000000000000008310611b0a577a184f03e93ff9f4daa797ed6e38ed64bf6a1f0100000000000000008381611b0057611aff613020565b5b0492506040810190505b6d04ee2d6d415b85acef81000000008310611b47576d04ee2d6d415b85acef81000000008381611b3d57611b3c613020565b5b0492506020810190505b662386f26fc100008310611b7657662386f26fc100008381611b6c57611b6b613020565b5b0492506010810190505b6305f5e1008310611b9f576305f5e1008381611b9557611b94613020565b5b0492506008810190505b6127108310611bc4576127108381611bba57611bb9613020565b5b0492506004810190505b60648310611be75760648381611bdd57611bdc613020565b5b0492506002810190505b600a8310611bf6576001810190505b80915050919050565b611c098383611c7d565b611c166000848484611925565b611c55576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611c4c90613000565b60405180910390fd5b505050565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603611cec576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611ce39061317e565b60405180910390fd5b611cf5816115d0565b15611d35576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611d2c906131ea565b60405180910390fd5b611d43600083836001611919565b611d4c816115d0565b15611d8c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611d83906131ea565b60405180910390fd5b6001600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282540192505081905550816002600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a4611e9660008383600161191f565b5050565b6000604051905090565b600080fd5b600080fd5b60007fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b611ee381611eae565b8114611eee57600080fd5b50565b600081359050611f0081611eda565b92915050565b600060208284031215611f1c57611f1b611ea4565b5b6000611f2a84828501611ef1565b91505092915050565b60008115159050919050565b611f4881611f33565b82525050565b6000602082019050611f636000830184611f3f565b92915050565b600081519050919050565b600082825260208201905092915050565b60005b83811015611fa3578082015181840152602081019050611f88565b60008484015250505050565b6000601f19601f8301169050919050565b6000611fcb82611f69565b611fd58185611f74565b9350611fe5818560208601611f85565b611fee81611faf565b840191505092915050565b600060208201905081810360008301526120138184611fc0565b905092915050565b6000819050919050565b61202e8161201b565b811461203957600080fd5b50565b60008135905061204b81612025565b92915050565b60006020828403121561206757612066611ea4565b5b60006120758482850161203c565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006120a98261207e565b9050919050565b6120b98161209e565b82525050565b60006020820190506120d460008301846120b0565b92915050565b6120e38161209e565b81146120ee57600080fd5b50565b600081359050612100816120da565b92915050565b6000806040838503121561211d5761211c611ea4565b5b600061212b858286016120f1565b925050602061213c8582860161203c565b9150509250929050565b60008060006060848603121561215f5761215e611ea4565b5b600061216d868287016120f1565b935050602061217e868287016120f1565b925050604061218f8682870161203c565b9150509250925092565b6121a28161201b565b82525050565b60006020820190506121bd6000830184612199565b92915050565b600060808201905081810360008301526121dd8187611fc0565b90506121ec60208301866120b0565b6121f96040830185612199565b6122066060830184611f3f565b95945050505050565b6000806040838503121561222657612225611ea4565b5b60006122348582860161203c565b92505060206122458582860161203c565b9150509250929050565b60006020828403121561226557612264611ea4565b5b6000612273848285016120f1565b91505092915050565b61228581611f33565b811461229057600080fd5b50565b6000813590506122a28161227c565b92915050565b600080604083850312156122bf576122be611ea4565b5b60006122cd858286016120f1565b92505060206122de85828601612293565b9150509250929050565b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b61232a82611faf565b810181811067ffffffffffffffff82111715612349576123486122f2565b5b80604052505050565b600061235c611e9a565b90506123688282612321565b919050565b600067ffffffffffffffff821115612388576123876122f2565b5b61239182611faf565b9050602081019050919050565b82818337600083830152505050565b60006123c06123bb8461236d565b612352565b9050828152602081018484840111156123dc576123db6122ed565b5b6123e784828561239e565b509392505050565b600082601f830112612404576124036122e8565b5b81356124148482602086016123ad565b91505092915050565b6000806000806080858703121561243757612436611ea4565b5b6000612445878288016120f1565b9450506020612456878288016120f1565b93505060406124678782880161203c565b925050606085013567ffffffffffffffff81111561248857612487611ea9565b5b612494878288016123ef565b91505092959194509250565b600080604083850312156124b7576124b6611ea4565b5b60006124c5858286016120f1565b92505060206124d6858286016120f1565b9150509250929050565b600067ffffffffffffffff8211156124fb576124fa6122f2565b5b61250482611faf565b9050602081019050919050565b600061252461251f846124e0565b612352565b9050828152602081018484840111156125405761253f6122ed565b5b61254b84828561239e565b509392505050565b600082601f830112612568576125676122e8565b5b8135612578848260208601612511565b91505092915050565b60006020828403121561259757612596611ea4565b5b600082013567ffffffffffffffff8111156125b5576125b4611ea9565b5b6125c184828501612553565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000600282049050600182168061261157607f821691505b602082108103612624576126236125ca565b5b50919050565b7f4552433732313a20617070726f76616c20746f2063757272656e74206f776e6560008201527f7200000000000000000000000000000000000000000000000000000000000000602082015250565b6000612686602183611f74565b91506126918261262a565b604082019050919050565b600060208201905081810360008301526126b581612679565b9050919050565b7f4552433732313a20617070726f76652063616c6c6572206973206e6f7420746f60008201527f6b656e206f776e6572206f7220617070726f76656420666f7220616c6c000000602082015250565b6000612718603d83611f74565b9150612723826126bc565b604082019050919050565b600060208201905081810360008301526127478161270b565b9050919050565b7f4552433732313a2063616c6c6572206973206e6f7420746f6b656e206f776e6560008201527f72206f7220617070726f76656400000000000000000000000000000000000000602082015250565b60006127aa602d83611f74565b91506127b58261274e565b604082019050919050565b600060208201905081810360008301526127d98161279d565b9050919050565b7f546f6b656e20646f6573206e6f74206578697374000000000000000000000000600082015250565b6000612816601483611f74565b9150612821826127e0565b602082019050919050565b6000602082019050818103600083015261284581612809565b9050919050565b7f4f6e6c79206f776e65722063616e2073656c6c00000000000000000000000000600082015250565b6000612882601383611f74565b915061288d8261284c565b602082019050919050565b600060208201905081810360008301526128b181612875565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4552433732313a20696e76616c696420746f6b656e2049440000000000000000600082015250565b600061291d601883611f74565b9150612928826128e7565b602082019050919050565b6000602082019050818103600083015261294c81612910565b9050919050565b7f4552433732313a2061646472657373207a65726f206973206e6f74206120766160008201527f6c6964206f776e65720000000000000000000000000000000000000000000000602082015250565b60006129af602983611f74565b91506129ba82612953565b604082019050919050565b600060208201905081810360008301526129de816129a2565b9050919050565b7f536b696e206973206e6f7420666f722073616c65000000000000000000000000600082015250565b6000612a1b601483611f74565b9150612a26826129e5565b602082019050919050565b60006020820190508181036000830152612a4a81612a0e565b9050919050565b7f496e636f72726563742070726963650000000000000000000000000000000000600082015250565b6000612a87600f83611f74565b9150612a9282612a51565b602082019050919050565b60006020820190508181036000830152612ab681612a7a565b9050919050565b600081905092915050565b6000612ad382611f69565b612add8185612abd565b9350612aed818560208601611f85565b80840191505092915050565b6000612b058285612ac8565b9150612b118284612ac8565b91508190509392505050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302612b7f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82612b42565b612b898683612b42565b95508019841693508086168417925050509392505050565b6000819050919050565b6000612bc6612bc1612bbc8461201b565b612ba1565b61201b565b9050919050565b6000819050919050565b612be083612bab565b612bf4612bec82612bcd565b848454612b4f565b825550505050565b600090565b612c09612bfc565b612c14818484612bd7565b505050565b5b81811015612c3857612c2d600082612c01565b600181019050612c1a565b5050565b601f821115612c7d57612c4e81612b1d565b612c5784612b32565b81016020851015612c66578190505b612c7a612c7285612b32565b830182612c19565b50505b505050565b600082821c905092915050565b6000612ca060001984600802612c82565b1980831691505092915050565b6000612cb98383612c8f565b9150826002028217905092915050565b612cd282611f69565b67ffffffffffffffff811115612ceb57612cea6122f2565b5b612cf582546125f9565b612d00828285612c3c565b600060209050601f831160018114612d335760008415612d21578287015190505b612d2b8582612cad565b865550612d93565b601f198416612d4186612b1d565b60005b82811015612d6957848901518255600182019150602085019450602081019050612d44565b86831015612d865784890151612d82601f891682612c8f565b8355505b6001600288020188555050505b505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000612dd58261201b565b9150612de08361201b565b9250828203905081811115612df857612df7612d9b565b5b92915050565b7f4552433732313a207472616e736665722066726f6d20696e636f72726563742060008201527f6f776e6572000000000000000000000000000000000000000000000000000000602082015250565b6000612e5a602583611f74565b9150612e6582612dfe565b604082019050919050565b60006020820190508181036000830152612e8981612e4d565b9050919050565b7f4552433732313a207472616e7366657220746f20746865207a65726f2061646460008201527f7265737300000000000000000000000000000000000000000000000000000000602082015250565b6000612eec602483611f74565b9150612ef782612e90565b604082019050919050565b60006020820190508181036000830152612f1b81612edf565b9050919050565b7f4552433732313a20617070726f766520746f2063616c6c657200000000000000600082015250565b6000612f58601983611f74565b9150612f6382612f22565b602082019050919050565b60006020820190508181036000830152612f8781612f4b565b9050919050565b7f4552433732313a207472616e7366657220746f206e6f6e20455243373231526560008201527f63656976657220696d706c656d656e7465720000000000000000000000000000602082015250565b6000612fea603283611f74565b9150612ff582612f8e565b604082019050919050565b6000602082019050818103600083015261301981612fdd565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b600081519050919050565b600082825260208201905092915050565b60006130768261304f565b613080818561305a565b9350613090818560208601611f85565b61309981611faf565b840191505092915050565b60006080820190506130b960008301876120b0565b6130c660208301866120b0565b6130d36040830185612199565b81810360608301526130e5818461306b565b905095945050505050565b6000815190506130ff81611eda565b92915050565b60006020828403121561311b5761311a611ea4565b5b6000613129848285016130f0565b91505092915050565b7f4552433732313a206d696e7420746f20746865207a65726f2061646472657373600082015250565b6000613168602083611f74565b915061317382613132565b602082019050919050565b600060208201905081810360008301526131978161315b565b9050919050565b7f4552433732313a20746f6b656e20616c7265616479206d696e74656400000000600082015250565b60006131d4601c83611f74565b91506131df8261319e565b602082019050919050565b60006020820190508181036000830152613203816131c7565b905091905056fea2646970667358221220f93526ec77716184c704a2c867486c8f5b96586bd6b622e4efa7df64ca01701564736f6c63430008120033',
	arguments: ["LOLNFT", "NFT"]
})
.send({
	from : AccountAddress,
	gas: 5000000,
	gasPrice: '20000000000'
})
.then((newContractInstance)=>{
	console.log(newContractInstance.options.address);
});
window.onload = function(){
  connectMetaMask()
  EventListener()
};

window.ethereum.on("accountsChanged", () => {
  GetAccountAddress()
  Update()
});

window.ethereum.on("chainChanged", () => {
  GetAccountAddress()
  Update()
});

async function Update(){
	if (Contract != null){
		NumberOfSkin = await Contract.methods.SkinsLen().call()
		if (NumberOfSkin > 0){
			ListAll = document.getElementById('ListOfSkin')
			ListOwn = document.getElementById('ListOfOwnSkin')
			ListAll.innerHTML = null
			ListOwn.innerHTML = null
			for (i=0;i<NumberOfSkin;i++){
				result = await Contract.methods.skins(i).call()
				NotHaveIt = true
				if (result[1] == AccountAddress){
					ListOwn.innerHTML += "<tr><th scope='row'>"+ i +"</th><td>" + result[0] +"</td><td>" + web3.utils.fromWei(result[2].toString(),'ether') +" ether</td><td>" + result[3] + "</td></tr>"
				}
				else{
					ListAll.innerHTML += "<tr><th scope='row'>"+ i +"</th><td>" + result[0] +"</td><td>"+ result[1] +"</td><td>" + web3.utils.fromWei(result[2].toString(),'ether') +" ether</td><td>" + result[3] +"</td></tr>"
				}
			}
		}
	}
}

function connectMetaMask(){
  if (typeof web3 !== "undefined") {
    // MetaMask is install
    web3 = new Web3(Web3.givenProvider);
  }
  else {
    console.log("Need to install MetaMask")
  }
  ethereum.request({ method: "eth_requestAccounts" });
  GetAccountAddress()
}

async function GetAccountAddress(){
  // get account address
  AccountAddress = (await web3.eth.getAccounts())[0];
  document.getElementById('AAddress').innerHTML = AccountAddress
  // init SC
  if (Contract == null){
    Contract = new web3.eth.Contract(abi,ContractAddress,{})
  }
}

function EventListener(){
  	// connect button
  	const ConnectButton = document.getElementById('connect');
  	ConnectButton.addEventListener('click', function(e) {
    	connectMetaMask()
		Update()
  	});
  	// reload button
  	const ReloadButton = document.getElementById('refresh')
  	ReloadButton.addEventListener('click', function(e){
		Update()
  	});
  	// Add skin button
  	const AddSkinButton = document.getElementById('add')
  	AddSkinButton.addEventListener('click', function(e){
		value = document.getElementById('name').value
		document.getElementById('name').value = null
    	Contract.methods
		.addSkin(value)
		.send({from: AccountAddress})
		.on("receipt", (receipt) => {
			Update()
    	    alert("Success")
      	})
      	.on("error", (err) => {
        	alert("Error")
      	});
	});
	// Buy Button
	const BuyButton = document.getElementById('Buy')
	BuyButton.addEventListener('click', function(e){
		SkinID = document.getElementById('TokenID').value
		PayAmount = document.getElementById("PayAmount").value
		Contract.methods
		.buySkin(SkinID)
		.send({
			from: AccountAddress,
			value: web3.utils.toWei(PayAmount.toString(),'ether'),
			gasLimit: 500000
		})
		.on("receipt", (receipt) => {
			Update()
    	    alert("Success")
      	})
      	.on("error", (err) => {
        	alert("Error")
      	});
		document.getElementById('TokenID').value = null
		document.getElementById("PayAmount").value = null
	});
	// Sell Button
	const SellButton = document.getElementById('Sale')
	SellButton.addEventListener('click', function(e){
		TokenID = document.getElementById('SkinName').value
		price = document.getElementById('Price').value
		Contract.methods
		.putSkinForSale(TokenID,web3.utils.toWei(price.toString(),'ether'))
		.send({from: AccountAddress})
		.on("receipt", (receipt) => {
			Update()
    	    alert("Success")
      	})
      	.on("error", (err) => {
        	alert("Error")
      	});
		document.getElementById('SkinName').value = null
		document.getElementById('Price').value = null
	});
	// Approve Button
	const ApproveButton = document.getElementById('Approve')
	ApproveButton.addEventListener('click', function(e){
		address = document.getElementById("Address").value
		TokenId = document.getElementById('SkinId').value
		Contract.methods
		.approve(address,TokenId)
		.send({from: AccountAddress})
		.on("receipt", (receipt) => {
			Update()
    	    alert("Success")
      	})
      	.on("error", (err) => {
        	alert("Error")
      	});
		document.getElementById("Address").value = null
		document.getElementById("SkinId").value = null
	});
}